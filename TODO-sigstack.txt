Some TODOs/bugs:

    - Need to get semaphores and mutexes working, as the some non-primary codepaths need this:
        - Enabling the FLAG_preallocate_message_memory commandline flag
        - Profiling
        - Logging
        - Debugging
